#+AUTHOR: Dr. Itai Kloog
#+TITLE:  Lesson 1
#+DATE:  
#+EMAIL:  ikloog@bgu.ac.il


* Building a geodatabase
** Organizing your data in the Catalog
*** Connecting to data
In the Catalog, data is accessed through folder or database connections.
Database connections are used to access ArcSDE geodatabases.
This tutorial uses file geodatabases. File geodatabases are accessed through folder connections. Other
data you can access through folder connections includes personal geodatabases, shapefiles, and
coverages.
When you look in a folder connection, you can quickly see the folders and data sources it contains.
You will now begin organizing your data by creating a folder connection to it in ArcCatalog.
Steps:
- Start ArcCatalog by clicking Start > All Programs > ArcGIS > ArcCatalog 10.
- Click the Connect To Folder button on the ArcCatalog Standard toolbar.
This opens the Connect to Folder dialog box.
- Navigate to the BuildingaGeodatabase folder on the local drive where you installed the tutorial data.
- Click OK on the Connect to Folder dialog box to establish a folder connection.
Your new folder connection is now listed in the Catalog tree. Now you can access all the data needed for
the tutorial through that connection. 

*** Exploring your data
Before you begin modifying the geodatabase, explore the datasets provided for the tutorial.
Steps:

-Click the plus sign next to the BuildingaGeodatabase folder to see the datasets it contains.

-Click the laterals coverage in the folder to select it.

-Click the Preview tab to view the laterals geometry.

-Click the plus sign next to the Montgomery geodatabase, then double-click each feature dataset.
This expands the feature datasets so you can see all the feature classes contained in each feature dataset.

-Click the owners.dat INFO table in the BuildingGeodatabase folder.
Notice how the Preview type automatically changes to Table and displays the table's records.

This table contains the owner information for the Parcels feature class in the Montgomery
geodatabase. In the next part of this exercise, you will import this table into the geodatabase
and create relationships between the parcels and their owners.
Now that you have found and organized your data in ArcCatalog, you are ready to start the first task in the
tutorial—importing data into the geodatabase.

** Importing data into your geodatabase
Before you can start adding behavior to your data, you must move it into a geodatabase.

You will import two datasets into the Montgomery geodatabase—laterals and owner.dat. 
The laterals coverage contains water laterals for the Montgomery water dataset, and the owner.dat INFO table contains owner information for the parcel features already in the geodatabase.

*** Importing a coverage
Steps:
-In ArcCatalog, right-click the Water feature dataset in the Montgomery geodatabase, point to
Import, then click Feature Class (multiple).

This tool is used to specify your input coverage, output geodatabase, and output feature class.
Because you opened this tool by right-clicking a feature dataset, the output geodatabase,
Montgomery, and feature dataset, Water, are already filled in for you.
There are several ways to set the input and output datasets. You can also drag a dataset or
datasets from the ArcCatalog tree or Contents tab and drop them on the text box. Alternatively,
you can click the Browse button to open the ArcCatalog minibrowser and navigate to your
dataset or type the full path name to the dataset in the text box.

- Click the Browse button, navigate to the arc feature class in the laterals coverage, and click Add.

- Click OK to run the Feature Class To Geodatabase (multiple) tool.
While the tool is running, a progress bar appears in the lower right corner of ArcCatalog. When
the tool completes, a pop-up message appears. You can click this to open the Results pane to
see any messages that were generated while running the tool.
The laterals_arc feature class is now in the Water feature dataset.

- In the ArcCatalog tree, navigate to and click the laterals arc feature class.

- Press the F2 key, then type Laterals to rename the feature class.

- Click the Preview tab to see the features.

*** Creating aliases for a feature class and its fields
The geodatabase lets you create aliases for fields, tables, and feature classes. An alias is an alternative
name to refer to those items. Unlike true names, aliases can contain special characters, such as spaces,
because they don't have to adhere to the database's object name limitations.
When you use data with aliases in ArcMap, the alias name is automatically used for feature classes, tables,
and fields. However, in ArcCatalog, these items are always represented by their true names.
You will now create aliases for your new feature class and its fields.

Steps:

- Right-click the Laterals feature class in the Water feature dataset and click Properties.
- Click the General tab.
- Type Water laterals in the Alias text box.
- Click the Fields tab.
- Click the OBJECTID field and type Feature identifier for its alias.
- Repeat this process to assign aliases to the following fields:

[[file:l1-images/lastimg4.png]]

- When you finish adding all the aliases, click OK to close the Feature Class Properties dialog box.

Now that you have imported the Laterals feature class into the geodatabase and added some aliases, you
are ready to import the owner.dat INFO table.

*** Importing the INFO table

The owner.dat INFO table contains owner information for the parcels in the Parcels feature class in the
Montgomery geodatabase. To be able to create relationships between the parcels and their owners, the
owner information must be imported into the Montgomery geodatabase. You will use the Table (single)
import tool to import the owner.dat INFO table into the Montgomery geodatabase. You will then create
aliases for the table.

Steps:
- Right-click the Montgomery geodatabase, point to Import, then click Table (single).
- Drag and drop the owners.dat INFO table from the Catalog tree to the Input Rows text box of
the Table to Table dialog box.
- Type Owners in the Output Table text box.
- Click OK.
- When the tool finishes, click the Owners table in the Montgomery geodatabase in the Catalog tree.
- Click the Preview tab.
- Right-click the Owners table and click Properties to see the properties of the table.
- Type Parcel owners for the alias for this table.
- Click the Fields tab and type the following field aliases:


[[file:l1-images/lastimg5.png]]

- Click OK.
The data in the laterals coverage and owners.dat INFO table is now in the Montgomery geodatabase.
Now you can take advantage of the geodatabase by applying behavior to your data


** Exercise 3: Creating relationships between objects
You will now create a relationship class between the parcels and the owners so that when you use the data in ArcMap, you can easily find out which owners own which parcels.

Steps:
- Right-click the Landbase feature dataset in the Montgomery geodatabase, point to New, then click Relationship Class. The New Relationship Class wizard opens. The first panel of the wizard is used to specify the name, origin, and destination feature class or table for the new relationship class.
- Type ParcelOwners in the Name of the relationship class text box.
- Click Owners in the Origin table/feature class list.
- Double-click the Landbase feature dataset in the Destination table/feature class list.
- Click Parcels. This designates the Parcels feature class as the destination feature class.
[[file:l1-images/lastimg.png]]
- Click Next. The next panel is used to specify the type of relationship class you are creating. You are creating a simple relationship class, since owners and parcels can exist in the database independently of each other. You can, therefore, accept the default type—Simple (peer to peer) relationship. 
- Click Next.

You must now specify the path labels and the message notification direction. The forward path
label describes the relationship as it is navigated from the origin class to the destination class—in
this case, from Owners to Parcels. The backward path label describes the relationship when
navigated in the other direction—from Parcels to Owners.
The message notification direction describes how messages are passed between related objects.
Message notification is not required for this relationship class; therefore, you can accept the
default of None.
- Type owns for the forward path label.
- Type is owned by for the backward path label. 

[[file:l1-images/lastimg2.png]]

- Click Next. You will now specify the cardinality of the relationship. The cardinality describes the possible number of objects in the destination feature class or table that can be related to an object in the origin feature class or table. 
- Click 1-M (one-to-many) to specify that one owner can own many parcels. 
- Click Next. You must now specify whether your new relationship class will have attributes. In this example, the ParcelOwners relationship class does not require attributes, which is the default. 
-  Click Next. The next step is to specify the primary key in the origin table (Owners) and the embedded foreign key field in the destination feature class (Parcels). Owners and Parcels that have the same value in these fields will be related to each other. 
- Click the second drop-down arrow on the dialog box and click PROPERTY_I for the embedded foreign key in the destination feature class.

[[file:l1-images/lastimg3.png]]
- Click Next.
- A summary page appears.
- Review the summary page to make sure the information is correct. Click Finish.

You have now added a second kind of behavior to the geodatabase—relationships.
